<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>BANCA TSS</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div>BANCA TSS</div>
        <br/>
        <div id="div_saldo">Saldo corrente: <span id="sp_saldo">0</span> €
        </div> 
        <div class="versamenti">
            <h3>VERSAMENTI</h3>
            <!--commento in html         -->
            <input type="text" id="in_vers" value=""  placeholder="ins.importo da versare" />
            <button id="bt_vers" onclick="versaImporto()" >Versa Importo</button>
        </div> 


        <div class="PRELIEVI"><h3>PRELIEVI</h3>
            <!--commento in html         -->
            <input type="text" id="in_prev" value=""  placeholder="ins.importo da prelevare" />
            <button id="bt_prev" onclick="prelevaImporto()" >
                Preleva Importo
            </button>
            <br/>
            <br/>
        </div> 


        <div id="div_notifiche" >Area notifiche: <span id="sp_notif">nulla da segnalare</span></div>


        <div id="div_mov">

            <h3>MOVIMENTI</h3>   
            <table border="1">

                <tr>
                    <th>Versamenti</th><th>Prelievi</th>
                </tr> 
                <tr> <!--contenuto del td  123<br>-<br/>-->

                    <td id="td_vers"></td>
                    <td id="td_prev"></td>
                </tr>
            </table>
        </div>
    </body>
</html>

<script>

    function versaImporto() {
        // se in_vers cè qualcosa di errato non fare niente ed avvertire

        /*
         if ( condizione  ) {
         // cosa fare se vero
         }
         else {
         //cosa fare se falso
         }
         */

        //metto la frase ad esempio "123" dentro a saldo_current
        var txsaldo_current = document.getElementById("sp_saldo").innerHTML;
        //metto la frase ad esempio "123" dentro a importo_current
        var tximporto_current = document.getElementById("in_vers").value;
        //var saldo=saldo_current*1;
        var saldo = parseFloat(txsaldo_current);

        if (isNaN(tximporto_current)) {
            alert("non hai scritto un numero riprova!");
            document.getElementById("in_vers").value = "";
        } else {
            var importo = parseFloat(tximporto_current);

            if (importo > 0) {

                //sommo finalmente due numeri e non due testi
                var nuovo_saldo = saldo + importo;
                //imposto il nuovo valore nello span sp_saldo
                document.getElementById("sp_saldo").innerHTML = nuovo_saldo;
                document.getElementById("in_vers").value = "";

                //sistemo movimenti
                //leggo il contenuto della cella td_vers 
                var txtd_vers = document.getElementById("td_vers").innerHTML;
                // txtdtxtd_vers = "123<br>" + "200" + "<br/>
                //gli aggiungo il nuovo importo + a capo br
                txtd_vers = txtd_vers + tximporto_current + "<br/>";
                //idem per td_prev ma solo "-<br>"
                var txtd_prev = document.getElementById("td_prev").innerHTML;
                // txtdtxtd_prev = "123<br>" + "200" + "<br/>
                txtd_prev = txtd_prev + "-<br/>";
                //visualizzo i nuovi dati nelle celle td
                document.getElementById("td_vers").innerHTML = txtd_vers;
                document.getElementById("td_prev").innerHTML = txtd_prev;
            } else {
                alert("non hai scritto un numero riprova!");
                document.getElementById("in_vers").value = "";
            }
        }
    }




    function prelevaImporto() {




        //metto la frase ad esempio "123" dentro a saldo_current
        var txsaldo_current = document.getElementById("sp_saldo").innerHTML;
        //metto la frase ad esempio "123" dentro a importo_current
        var tximporto_current = document.getElementById("in_prev").value;
        //var saldo=saldo_current*1;
        var saldo = Number.parseFloat(txsaldo_current);

        if (isNaN(tximporto_current)) {
            alert("non hai scritto un numero riprova!");
            document.getElementById("in_prev").value = "";
        } else {


            var importo = Number.parseFloat(tximporto_current);

            if (importo > 0) {

                //sommo finalmente due numeri e non due testi
                var nuovo_saldo = saldo - importo;
                //imposto il nuovo valore nello span sp_saldo
                document.getElementById("sp_saldo").innerHTML = nuovo_saldo;
                document.getElementById("in_prev").value = "";


                //sistemo movimenti
                //leggo il contenuto della cella td_vers 
                var txtd_prev = document.getElementById("td_prev").innerHTML;
                // txtdtxtd_vers = "123<br>" + "200" + "<br/>
                //gli aggiungo il nuovo importo + a capo br
                txtd_prev = txtd_prev + tximporto_current + "<br/>";
                //idem per td_prev ma solo "-<br>"
                var txtd_vers = document.getElementById("td_vers").innerHTML;
                txtd_vers = txtd_vers + "-<br/>";
                //visualizzo i nuovi dati nelle celle td
                document.getElementById("td_vers").innerHTML = txtd_vers;
                document.getElementById("td_prev").innerHTML = txtd_prev;
            } else {
                alert("non hai scritto un numero riprova!");
                document.getElementById("in_prev").value = "";
            }


        }
    }


</script>